<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="productDAO">

	<insert id="insertProduct" parameterType="product">
		INSERT INTO PRODUCT (P_CODE, P_NAME, PRICE, A_ID, P_SIZE, P_DATE)
		VALUES #{p_code}, #{p_name}, #{price}, #{a_id}, #{p_size}, #{p_date})
	</insert>
	
	<update id="updateProduct" parameterType="product">
		UPDATE PRODUCT 
		SET P_NAME = #{p_name}, PRICE = #{price}, P_SIZE = #{p_size} 
		WHERE P_CODE = #{p_code}
	</update>
	
	<delete id="deleteProduct" parameterType="product">
		DELETE FROM PRODUCT WHERE P_CODE = #{p_code}
	</delete>
	
	<select id="getProduct" parameterType="product" resultType="product">
		SELECT * FROM PRODUCT WHERE P_CODE = #{p_code}
	</select>
	
	<select id="getProductList" parameterType="product" resultType="product">
		SELECT * FROM PRODUCT 
		<where>
		<if test="searchCondition == 'P_NAME' ">
			TITLE LIKE '%'|| #{searchKeyword} ||'%' ORDER BY P_CODE DESC
		</if>
		<!-- <if test="searchCondition == 'CONTENT' ">
			CONTENT LIKE '%'|| #{searchKeyword} ||'%' ORDER BY SEQ DESC
		</if> -->
		</where>
	</select>
</mapper>